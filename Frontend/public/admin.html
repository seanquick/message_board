<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .grid { display:grid; gap:1rem; }
    .grid.cols-4 { grid-template-columns: repeat(4, minmax(0,1fr)); }
    .stat { padding:1rem; border-radius:8px; background:#f7f7fb; border:1px solid #eee; }
    .stat .v { font-size:1.6rem; font-weight:800; margin-top:.25rem; }
    .toolbar { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    .pill { padding:.15rem .45rem; border-radius:999px; font-size:.8rem; background:#eef; color:#334; display:inline-block; }
    .activeRow { outline: 2px solid #8ab4f8; outline-offset: -2px; }
    .empty { color:#6b7280; text-align:center; padding:.75rem }
    /* Modal styling */
    #adminReportModal .report-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    #adminReportModal .report-dialog {
      background: #fff;
      border-radius: 8px;
      padding: 1rem;
      max-width: 700px;
      width: 90%;
      max-height: 80vh;
      box-shadow: 0 4px 16px rgba(0,0,0,0.2);
      overflow: auto;
    }
    #adminReportModal .report-dialog header {
      margin-bottom: 1rem;
    }
    #adminReportModal .report-dialog section {
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>

<main class="container">
  <h1 class="row between">Admin Dashboard
    <span id="notifBell" class="row items-center" style="gap:.35rem">
      <span class="pill" id="notifCount" style="display:none">0</span>
    </span>
  </h1>
  <div id="adminErr" class="err mt-1" aria-live="polite"></div>

  <!-- Metrics -->
  <section class="grid cols-4 mt-2">
    <div class="stat"><div>Total Users</div><div id="mUsers" class="v">â€”</div></div>
    <div class="stat"><div>Total Threads</div><div id="mThreads" class="v">â€”</div></div>
    <div class="stat"><div>Total Comments</div><div id="mComments" class "v">â€”</div></div>
    <div class="stat"><div>Open Reports</div><div id="mReports" class="v">â€”</div></div>
  </section>

  <!-- (rest of your existing sections: Global Search, Reports, Threads, Comments, Users) -->

  <!-- Reports section, Users, etc. (unchanged) -->

</main>

<!-- Admin Report Modal (initially hidden) -->
<div id="adminReportModal">
  <div class="report-backdrop">
    <div class="report-dialog">
      <header><h3>Report Detail</h3></header>
      <section id="reportDetailBody"></section>
      <div style="text-align: right; margin-top: 1rem;">
        <button id="adminReportClose" class="btn tiny">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- ðŸ§  Shared base logic must load first -->
<script type="module" src="nav.js"></script>
<script type="module" src="main.js"></script>

<!-- ðŸ“Œ Functional logic (uses main.js helpers) -->
<script type="module" src="threads.js"></script>
<script type="module" src="account.js"></script>
<script type="module" src="admin.js"></script>

<!-- ðŸ§ª Admin extensions -->
<script type="module" src="/adminExport.js"></script>
<script type="module" src="/adminTest.js"></script>

</body>
</html>
